{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:8081';\nexport function getProducts() {\n  return axios.get(`${BASE_URL}/products`).then(response => response.data);\n}\nexport function getCategories() {\n  return axios.get(`${BASE_URL}/categories`).then(response => response.data);\n}\nexport function getCartProducts(cart) {\n  return axios.post(`${BASE_URL}/products`, {\n    cart\n  }).then(response => response.data);\n}\nfunction login(data) {\n  const user = {\n    \"username\": data.username,\n    \"password\": data.password\n  };\n  console.log(user);\n  let result = axios.post(`${BASE_URL}/user/signin`, user);\n  //   return axios.post(`${BASE_URL}/user/signin`, user)\n  //     .then(response => {\n  //        localStorage.setItem('x-access-token', response.data.token);\n  //        localStorage.setItem('x-access-token-expiration', \n  //                             Date.now() + 2 * 60 * 60 * 1000);\n  //       return response.data})\n  //     .catch(err => Promise.reject('Authentication Failed!'));\n  try {\n    if (result.data == \"Admin Success\") {\n      navigate(\"/categories\");\n      localStorage.setItem('user', JSON.stringify(user));\n      console.log(user);\n    } else if (result.data == \"Customer success\") {\n      navigate(\"/Customer\");\n      localStorage.setItem('user', user);\n    } else {\n      setErrorMsg(result.data);\n    }\n  } catch (err) {\n    setErrorMsg(err.message);\n  }\n}\n// export function pay (data) {\n//         return axios.get(`${BASE_URL}/api/pay`, \n//             { params: { 'x-access-token': localStorage.getItem('x-access-token')} })\n//                 .then(response => response.data)\n//                 .catch(err => Promise.reject(err));\n// }\n// export function isAuthenticated(){\n//         return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n// }","map":{"version":3,"names":["axios","BASE_URL","getProducts","get","then","response","data","getCategories","getCartProducts","cart","post","login","user","username","password","console","log","result","navigate","localStorage","setItem","JSON","stringify","setErrorMsg","err","message"],"sources":["/home/zoltaniordachev/Desktop/Medicare/medicare-frontend/src/repository.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'http://localhost:8081';\n\nexport function getProducts() {\n        return axios.get(`${BASE_URL}/products`)\n                .then(response => response.data);\n}\nexport function getCategories() {\n    return axios.get(`${BASE_URL}/categories`)\n            .then(response => response.data);\n}\nexport function getCartProducts(cart) {\n        return axios.post(`${BASE_URL}/products`, {cart})\n                .then(response => response.data);\n}\nfunction login (data) {\n    const user = {\"username\":data.username,\"password\":data.password};\n    console.log(user);\n    let result =axios.post(`${BASE_URL}/user/signin`, user)\n//   return axios.post(`${BASE_URL}/user/signin`, user)\n//     .then(response => {\n//        localStorage.setItem('x-access-token', response.data.token);\n//        localStorage.setItem('x-access-token-expiration', \n//                             Date.now() + 2 * 60 * 60 * 1000);\n//       return response.data})\n//     .catch(err => Promise.reject('Authentication Failed!'));\ntry{\n    if(result.data==\"Admin Success\"){\n        navigate(\"/categories\");\n        localStorage.setItem('user',JSON.stringify(user))\n        console.log(user);\n       \n \n    }else if(result.data==\"Customer success\"){\n        navigate(\"/Customer\");\n        localStorage.setItem('user', user)\n    }else{\n      setErrorMsg(result.data);\n    }\n    }catch(err){\n      setErrorMsg(err.message);\n    }\n\n\n\n}\n// export function pay (data) {\n//         return axios.get(`${BASE_URL}/api/pay`, \n//             { params: { 'x-access-token': localStorage.getItem('x-access-token')} })\n//                 .then(response => response.data)\n//                 .catch(err => Promise.reject(err));\n// }\n// export function isAuthenticated(){\n//         return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n// }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,OAAO,SAASC,WAAWA,CAAA,EAAG;EACtB,OAAOF,KAAK,CAACG,GAAG,CAAE,GAAEF,QAAS,WAAU,CAAC,CAC/BG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAChD;AACA,OAAO,SAASC,aAAaA,CAAA,EAAG;EAC5B,OAAOP,KAAK,CAACG,GAAG,CAAE,GAAEF,QAAS,aAAY,CAAC,CACjCG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAC5C;AACA,OAAO,SAASE,eAAeA,CAACC,IAAI,EAAE;EAC9B,OAAOT,KAAK,CAACU,IAAI,CAAE,GAAET,QAAS,WAAU,EAAE;IAACQ;EAAI,CAAC,CAAC,CACxCL,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAChD;AACA,SAASK,KAAKA,CAAEL,IAAI,EAAE;EAClB,MAAMM,IAAI,GAAG;IAAC,UAAU,EAACN,IAAI,CAACO,QAAQ;IAAC,UAAU,EAACP,IAAI,CAACQ;EAAQ,CAAC;EAChEC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;EACjB,IAAIK,MAAM,GAAEjB,KAAK,CAACU,IAAI,CAAE,GAAET,QAAS,cAAa,EAAEW,IAAI,CAAC;EAC3D;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAG;IACC,IAAGK,MAAM,CAACX,IAAI,IAAE,eAAe,EAAC;MAC5BY,QAAQ,CAAC,aAAa,CAAC;MACvBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC,CAAC;MACjDG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;IAGrB,CAAC,MAAK,IAAGK,MAAM,CAACX,IAAI,IAAE,kBAAkB,EAAC;MACrCY,QAAQ,CAAC,WAAW,CAAC;MACrBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAER,IAAI,CAAC;IACtC,CAAC,MAAI;MACHW,WAAW,CAACN,MAAM,CAACX,IAAI,CAAC;IAC1B;EACA,CAAC,QAAMkB,GAAG,EAAC;IACTD,WAAW,CAACC,GAAG,CAACC,OAAO,CAAC;EAC1B;AAIJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}