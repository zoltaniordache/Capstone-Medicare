{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:8081';\nexport function getProducts() {\n  return axios.get(`${BASE_URL}/products`).then(response => response.data);\n}\nexport function getCategories() {\n  return axios.get(`${BASE_URL}/categories`).then(response => response.data);\n}\nexport function getCartProducts(cart) {\n  return axios.post(`${BASE_URL}/products`, {\n    cart\n  }).then(response => response.data);\n}\nexport function login(data) {\n  return axios.post(`${BASE_URL}/user/signin`, {\n    name: data.name,\n    password: data.password\n  }).then(response => {\n    localStorage.setItem('x-access-token', response.data.token);\n    localStorage.setItem('x-access-token-expiration', Date.now() + 2 * 60 * 60 * 1000);\n    return response.data;\n  }).catch(err => Promise.reject('Authentication Failed!'));\n}\n// export function pay (data) {\n//         return axios.get(`${BASE_URL}/api/pay`, \n//             { params: { 'x-access-token': localStorage.getItem('x-access-token')} })\n//                 .then(response => response.data)\n//                 .catch(err => Promise.reject(err));\n// }\n// export function isAuthenticated(){\n//         return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n// }","map":{"version":3,"names":["axios","BASE_URL","getProducts","get","then","response","data","getCategories","getCartProducts","cart","post","login","name","password","localStorage","setItem","token","Date","now","catch","err","Promise","reject"],"sources":["/home/zoltaniordachev/Desktop/Medicare/medicare-frontend/src/repository.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'http://localhost:8081';\n\nexport function getProducts() {\n        return axios.get(`${BASE_URL}/products`)\n                .then(response => response.data);\n}\nexport function getCategories() {\n    return axios.get(`${BASE_URL}/categories`)\n            .then(response => response.data);\n}\nexport function getCartProducts(cart) {\n        return axios.post(`${BASE_URL}/products`, {cart})\n                .then(response => response.data);\n}\nexport function login (data) {\n\n  return axios.post(`${BASE_URL}/user/signin`, \n                    { name: data.name, password: data.password })\n    .then(response => {\n       localStorage.setItem('x-access-token', response.data.token);\n       localStorage.setItem('x-access-token-expiration', \n                            Date.now() + 2 * 60 * 60 * 1000);\n      return response.data})\n    .catch(err => Promise.reject('Authentication Failed!'));\n}\n// export function pay (data) {\n//         return axios.get(`${BASE_URL}/api/pay`, \n//             { params: { 'x-access-token': localStorage.getItem('x-access-token')} })\n//                 .then(response => response.data)\n//                 .catch(err => Promise.reject(err));\n// }\n// export function isAuthenticated(){\n//         return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n// }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,OAAO,SAASC,WAAWA,CAAA,EAAG;EACtB,OAAOF,KAAK,CAACG,GAAG,CAAE,GAAEF,QAAS,WAAU,CAAC,CAC/BG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAChD;AACA,OAAO,SAASC,aAAaA,CAAA,EAAG;EAC5B,OAAOP,KAAK,CAACG,GAAG,CAAE,GAAEF,QAAS,aAAY,CAAC,CACjCG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAC5C;AACA,OAAO,SAASE,eAAeA,CAACC,IAAI,EAAE;EAC9B,OAAOT,KAAK,CAACU,IAAI,CAAE,GAAET,QAAS,WAAU,EAAE;IAACQ;EAAI,CAAC,CAAC,CACxCL,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAChD;AACA,OAAO,SAASK,KAAKA,CAAEL,IAAI,EAAE;EAE3B,OAAON,KAAK,CAACU,IAAI,CAAE,GAAET,QAAS,cAAa,EACzB;IAAEW,IAAI,EAAEN,IAAI,CAACM,IAAI;IAAEC,QAAQ,EAAEP,IAAI,CAACO;EAAS,CAAC,CAAC,CAC5DT,IAAI,CAACC,QAAQ,IAAI;IACfS,YAAY,CAACC,OAAO,CAAC,gBAAgB,EAAEV,QAAQ,CAACC,IAAI,CAACU,KAAK,CAAC;IAC3DF,YAAY,CAACC,OAAO,CAAC,2BAA2B,EAC3BE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IACtD,OAAOb,QAAQ,CAACC,IAAI;EAAA,CAAC,CAAC,CACvBa,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,MAAM,CAAC,wBAAwB,CAAC,CAAC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}