{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nconst BASE_URL = 'http://localhost:8081';\nexport function getProducts() {\n  return axios.get(`${BASE_URL}/products`).then(response => response.data);\n}\nexport function getCategories() {\n  return axios.get(`${BASE_URL}/categories`).then(response => response.data);\n}\nexport function getCartProducts(cart) {\n  return axios.post(`${BASE_URL}/products`, {\n    cart\n  }).then(response => response.data);\n}\nexport function login(data) {\n  _s();\n  let navigate = useNavigate();\n  const user = {\n    \"username\": data.username,\n    \"password\": data.password\n  };\n  console.log(user);\n  let result = axios.post(`${BASE_URL}/user/signin`, user);\n  //   return axios.post(`${BASE_URL}/user/signin`, user)\n  //     .then(response => {\n  //        localStorage.setItem('x-access-token', response.data.token);\n  //        localStorage.setItem('x-access-token-expiration', \n  //                             Date.now() + 2 * 60 * 60 * 1000);\n  //       return response.data})\n  //     .catch(err => Promise.reject('Authentication Failed!'));\n  try {\n    if (result.data == \"Admin Success\") {\n      navigate(\"/categories\");\n      localStorage.setItem('user', JSON.stringify(user));\n      console.log(user);\n    } else if (result.data == \"Customer success\") {\n      navigate(\"/Customer\");\n      localStorage.setItem('user', user);\n    } else {\n      setErrorMsg(result.data);\n    }\n  } catch (err) {\n    setErrorMsg(err.message);\n  }\n}\n// export function pay (data) {\n//         return axios.get(`${BASE_URL}/api/pay`, \n//             { params: { 'x-access-token': localStorage.getItem('x-access-token')} })\n//                 .then(response => response.data)\n//                 .catch(err => Promise.reject(err));\n// }\n// export function isAuthenticated(){\n//         return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n// }\n_s(login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["axios","Link","useNavigate","BASE_URL","getProducts","get","then","response","data","getCategories","getCartProducts","cart","post","login","_s","navigate","user","username","password","console","log","result","localStorage","setItem","JSON","stringify","setErrorMsg","err","message"],"sources":["/home/zoltaniordachev/Desktop/Medicare/medicare-frontend/src/repository.js"],"sourcesContent":["import axios from 'axios';\nimport {Link,useNavigate} from 'react-router-dom';\nconst BASE_URL = 'http://localhost:8081';\n\nexport function getProducts() {\n        return axios.get(`${BASE_URL}/products`)\n                .then(response => response.data);\n}\nexport function getCategories() {\n    return axios.get(`${BASE_URL}/categories`)\n            .then(response => response.data);\n}\nexport function getCartProducts(cart) {\n        return axios.post(`${BASE_URL}/products`, {cart})\n                .then(response => response.data);\n}\nexport function login (data) {\n    let navigate = useNavigate();\n    const user = {\"username\":data.username,\"password\":data.password};\n    console.log(user);\n    let result =axios.post(`${BASE_URL}/user/signin`, user)\n//   return axios.post(`${BASE_URL}/user/signin`, user)\n//     .then(response => {\n//        localStorage.setItem('x-access-token', response.data.token);\n//        localStorage.setItem('x-access-token-expiration', \n//                             Date.now() + 2 * 60 * 60 * 1000);\n//       return response.data})\n//     .catch(err => Promise.reject('Authentication Failed!'));\ntry{\n    if(result.data==\"Admin Success\"){\n        navigate(\"/categories\");\n        localStorage.setItem('user',JSON.stringify(user))\n        console.log(user);\n       \n \n    }else if(result.data==\"Customer success\"){\n        navigate(\"/Customer\");\n        localStorage.setItem('user', user)\n    }else{\n      setErrorMsg(result.data);\n    }\n    }catch(err){\n      setErrorMsg(err.message);\n    }\n\n\n\n}\n// export function pay (data) {\n//         return axios.get(`${BASE_URL}/api/pay`, \n//             { params: { 'x-access-token': localStorage.getItem('x-access-token')} })\n//                 .then(response => response.data)\n//                 .catch(err => Promise.reject(err));\n// }\n// export function isAuthenticated(){\n//         return localStorage.getItem('x-access-token') && localStorage.getItem('x-access-token-expiration') > Date.now()\n// }"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,IAAI,EAACC,WAAW,QAAO,kBAAkB;AACjD,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,OAAO,SAASC,WAAWA,CAAA,EAAG;EACtB,OAAOJ,KAAK,CAACK,GAAG,CAAE,GAAEF,QAAS,WAAU,CAAC,CAC/BG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAChD;AACA,OAAO,SAASC,aAAaA,CAAA,EAAG;EAC5B,OAAOT,KAAK,CAACK,GAAG,CAAE,GAAEF,QAAS,aAAY,CAAC,CACjCG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAC5C;AACA,OAAO,SAASE,eAAeA,CAACC,IAAI,EAAE;EAC9B,OAAOX,KAAK,CAACY,IAAI,CAAE,GAAET,QAAS,WAAU,EAAE;IAACQ;EAAI,CAAC,CAAC,CACxCL,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC;AAChD;AACA,OAAO,SAASK,KAAKA,CAAEL,IAAI,EAAE;EAAAM,EAAA;EACzB,IAAIC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC5B,MAAMc,IAAI,GAAG;IAAC,UAAU,EAACR,IAAI,CAACS,QAAQ;IAAC,UAAU,EAACT,IAAI,CAACU;EAAQ,CAAC;EAChEC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;EACjB,IAAIK,MAAM,GAAErB,KAAK,CAACY,IAAI,CAAE,GAAET,QAAS,cAAa,EAAEa,IAAI,CAAC;EAC3D;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAG;IACC,IAAGK,MAAM,CAACb,IAAI,IAAE,eAAe,EAAC;MAC5BO,QAAQ,CAAC,aAAa,CAAC;MACvBO,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC,CAAC;MACjDG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;IAGrB,CAAC,MAAK,IAAGK,MAAM,CAACb,IAAI,IAAE,kBAAkB,EAAC;MACrCO,QAAQ,CAAC,WAAW,CAAC;MACrBO,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEP,IAAI,CAAC;IACtC,CAAC,MAAI;MACHU,WAAW,CAACL,MAAM,CAACb,IAAI,CAAC;IAC1B;EACA,CAAC,QAAMmB,GAAG,EAAC;IACTD,WAAW,CAACC,GAAG,CAACC,OAAO,CAAC;EAC1B;AAIJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAAd,EAAA,CAxCgBD,KAAK;EAAA,QACFX,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}