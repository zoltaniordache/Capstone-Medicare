{"ast":null,"code":"var _jsxFileName = \"/home/zoltaniordachev/Desktop/Medicare/medicare-frontend/src/Checkout.js\";\nimport React from 'react';\nimport { isAuthenticated, getCartProducts, pay } from '../repository';\nimport { Redirect, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Checkout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pay = () => pay().then(data => alert(data)).catch(err => console.log(err));\n    this.state = {\n      products: [],\n      total: 0\n    };\n  }\n  async componentDidMount() {\n    let productsAll = await getProducts();\n    let products = [],\n      id = null;\n    let cart = JSON.parse(localStorage.getItem('cart'));\n    // console.log(cart);\n    if (!cart) return;\n    //console.log(productsAll);\n    for (var i = 0; i < productsAll.length; i++) {\n      id = productsAll[i].pid.toString();\n      if (cart.hasOwnProperty(id)) {\n        let myproducts = {\n          pid: '',\n          quantity: ''\n        };\n        myproducts = {\n          pid: id,\n          quantity: cart[id].toString()\n        };\n        console.log(myproducts);\n        let myproduct = await getCartProducts(myproducts);\n        products.push(myproduct);\n      }\n    }\n    let total = 0;\n    console.log(products);\n    for (var i = 0; i < products.length; i++) {\n      total += products[i].price * products[i].quantity;\n    }\n    this.setState({\n      products,\n      total\n    });\n  }\n  render() {\n    const {\n      products,\n      total\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"card-title\",\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 51\n      }, this), products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [product.name, \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [\" (quantity: \", product.quantity, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"float-right text-primary\",\n            children: [\"$\", product.quantity * product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 26\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this)), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 14\n      }, this), products.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Total Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"float-right text-primary\",\n            children: [\"$\", total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : '', !products.length ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-warning\",\n        children: \"No item on the cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 32\n      }, this) : '', products.length ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success float-right\",\n        onClick: this.pay,\n        children: \"Pay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 31\n      }, this) : '', /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger float-right\",\n          style: {\n            marginRight: \"10px\"\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 72\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 77\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this);\n  }\n}","map":{"version":3,"names":["React","isAuthenticated","getCartProducts","pay","Redirect","Link","jsxDEV","_jsxDEV","Checkout","Component","constructor","props","then","data","alert","catch","err","console","log","state","products","total","componentDidMount","productsAll","getProducts","id","cart","JSON","parse","localStorage","getItem","i","length","pid","toString","hasOwnProperty","myproducts","quantity","myproduct","push","price","setState","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","product","index","name","onClick","to","style","marginRight"],"sources":["/home/zoltaniordachev/Desktop/Medicare/medicare-frontend/src/Checkout.js"],"sourcesContent":["import React from 'react';\n    import { isAuthenticated, getCartProducts, pay } from '../repository';\n    import {  Redirect, Link } from 'react-router-dom';\n    \n    export default class Checkout extends React.Component {\n      constructor(props) {\n      super(props);\n        this.state = { products: [], total: 0 }\n      }\n    \n      async  componentDidMount() {\n        let productsAll = await getProducts();\n      let products = [], id = null;\n        let cart = JSON.parse( localStorage.getItem('cart'));\n      // console.log(cart);\n               if (!cart) return; \n        //console.log(productsAll);\n        for (var i = 0; i < productsAll.length; i++) {\n          id = productsAll[i].pid.toString();\n          \n          if (cart.hasOwnProperty(id)) {\n            let myproducts ={pid : '',quantity:''};\n            myproducts = {pid : id,quantity:cart[id].toString()};\n            console.log(myproducts);\n            let myproduct = await getCartProducts(myproducts);\n          \n            products.push(myproduct);\n            \n          }\n        }\n        let total = 0;\n        console.log(products);\n        for (var i = 0; i < products.length; i++) {\n              total += products[i].price * products[i].quantity;\n             }\n             \n\n             this.setState({ products, total });\n     \n      }\n    \n      pay = () => pay().then(data => alert(data)).catch(err => console.log(err))\n    \n      render() {\n       \n        const { products, total } =  this.state;\n        return (\n        <div className=\" container\">\n          <h3 className=\"card-title\">Checkout</h3><hr/>\n          { products.map((product, index) => \n              <div key={index}>\n              <p>{product.name} <small> (quantity: {product.quantity})</small>\n                 <span className=\"float-right text-primary\">${product.quantity * product.price}\n              </span></p><hr/>\n              </div>\n          )} <hr/>\n          { products.length ? \n          <div><h4><small>Total Amount:</small><span className=\"float-right text-primary\">\n                ${total}</span></h4><hr/></div>: ''}\n          { !products.length ? <h3 className=\"text-warning\">No item on the cart</h3>: ''}\n          { products.length ? <button className=\"btn btn-success float-right\" \n                onClick={this.pay}>Pay</button>: '' }\n          <Link to=\"/\"><button className=\"btn btn-danger float-right\" \n            style={{ marginRight: \"10px\" }}>Cancel</button></Link><br/><br/><br/>\n        </div>\n        );\n      }\n    }\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACrB,SAASC,eAAe,EAAEC,eAAe,EAAEC,GAAG,QAAQ,eAAe;AACrE,SAAUC,QAAQ,EAAEC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,eAAe,MAAMC,QAAQ,SAASR,KAAK,CAACS,SAAS,CAAC;EACpDC,WAAWA,CAACC,KAAK,EAAE;IACnB,KAAK,CAACA,KAAK,CAAC;IAAC,KAmCbR,GAAG,GAAG,MAAMA,GAAG,CAAC,CAAC,CAACS,IAAI,CAACC,IAAI,IAAIC,KAAK,CAACD,IAAI,CAAC,CAAC,CAACE,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;IAlCxE,IAAI,CAACG,KAAK,GAAG;MAAEC,QAAQ,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAE,CAAC;EACzC;EAEA,MAAOC,iBAAiBA,CAAA,EAAG;IACzB,IAAIC,WAAW,GAAG,MAAMC,WAAW,CAAC,CAAC;IACvC,IAAIJ,QAAQ,GAAG,EAAE;MAAEK,EAAE,GAAG,IAAI;IAC1B,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACtD;IACS,IAAI,CAACJ,IAAI,EAAE;IAClB;IACA,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,WAAW,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;MAC3CN,EAAE,GAAGF,WAAW,CAACQ,CAAC,CAAC,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAC;MAElC,IAAIR,IAAI,CAACS,cAAc,CAACV,EAAE,CAAC,EAAE;QAC3B,IAAIW,UAAU,GAAE;UAACH,GAAG,EAAG,EAAE;UAACI,QAAQ,EAAC;QAAE,CAAC;QACtCD,UAAU,GAAG;UAACH,GAAG,EAAGR,EAAE;UAACY,QAAQ,EAACX,IAAI,CAACD,EAAE,CAAC,CAACS,QAAQ,CAAC;QAAC,CAAC;QACpDjB,OAAO,CAACC,GAAG,CAACkB,UAAU,CAAC;QACvB,IAAIE,SAAS,GAAG,MAAMpC,eAAe,CAACkC,UAAU,CAAC;QAEjDhB,QAAQ,CAACmB,IAAI,CAACD,SAAS,CAAC;MAE1B;IACF;IACA,IAAIjB,KAAK,GAAG,CAAC;IACbJ,OAAO,CAACC,GAAG,CAACE,QAAQ,CAAC;IACrB,KAAK,IAAIW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,QAAQ,CAACY,MAAM,EAAED,CAAC,EAAE,EAAE;MACpCV,KAAK,IAAID,QAAQ,CAACW,CAAC,CAAC,CAACS,KAAK,GAAGpB,QAAQ,CAACW,CAAC,CAAC,CAACM,QAAQ;IAClD;IAGA,IAAI,CAACI,QAAQ,CAAC;MAAErB,QAAQ;MAAEC;IAAM,CAAC,CAAC;EAEzC;EAIAqB,MAAMA,CAAA,EAAG;IAEP,MAAM;MAAEtB,QAAQ;MAAEC;IAAM,CAAC,GAAI,IAAI,CAACF,KAAK;IACvC,oBACAZ,OAAA;MAAKoC,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzBrC,OAAA;QAAIoC,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAAAzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC3C5B,QAAQ,CAAC6B,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,kBAC1B5C,OAAA;QAAAqC,QAAA,gBACArC,OAAA;UAAAqC,QAAA,GAAIM,OAAO,CAACE,IAAI,EAAC,GAAC,eAAA7C,OAAA;YAAAqC,QAAA,GAAO,cAAY,EAACM,OAAO,CAACb,QAAQ,EAAC,GAAC;UAAA;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7DzC,OAAA;YAAMoC,SAAS,EAAC,0BAA0B;YAAAC,QAAA,GAAC,GAAC,EAACM,OAAO,CAACb,QAAQ,GAAGa,OAAO,CAACV,KAAK;UAAA;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAAAzC,OAAA;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,GAHNG,KAAK;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIV,CACT,CAAC,EAAC,GAAC,eAAAzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACN5B,QAAQ,CAACY,MAAM,gBACjBzB,OAAA;QAAAqC,QAAA,gBAAKrC,OAAA;UAAAqC,QAAA,gBAAIrC,OAAA;YAAAqC,QAAA,EAAO;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAAzC,OAAA;YAAMoC,SAAS,EAAC,0BAA0B;YAAAC,QAAA,GAAC,GACzE,EAACvB,KAAK;UAAA;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAAAzC,OAAA;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GAAE,EAAE,EACvC,CAAC5B,QAAQ,CAACY,MAAM,gBAAGzB,OAAA;QAAIoC,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAC;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,GAAE,EAAE,EAC5E5B,QAAQ,CAACY,MAAM,gBAAGzB,OAAA;QAAQoC,SAAS,EAAC,6BAA6B;QAC7DU,OAAO,EAAE,IAAI,CAAClD,GAAI;QAAAyC,QAAA,EAAC;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,GAAE,EAAE,eACzCzC,OAAA,CAACF,IAAI;QAACiD,EAAE,EAAC,GAAG;QAAAV,QAAA,eAACrC,OAAA;UAAQoC,SAAS,EAAC,4BAA4B;UACzDY,KAAK,EAAE;YAAEC,WAAW,EAAE;UAAO,CAAE;UAAAZ,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAAAzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAAAzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAAAzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpE,CAAC;EAER;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}